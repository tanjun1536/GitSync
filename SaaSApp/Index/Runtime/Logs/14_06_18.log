[ 2014-06-18T23:53:07+08:00 ] NOTIC: [8] Undefined index: username IndexAction.class.php 第 4 行.
[ 2014-06-18T23:53:07+08:00 ] NOTIC: [8] Undefined index: pwd IndexAction.class.php 第 5 行.
[ 2014-06-18T23:53:13+08:00 ] SQL: SHOW COLUMNS FROM `user` [ RunTime:0.006000s ]
[ 2014-06-18T23:53:13+08:00 ] SQL: SELECT * FROM `user` WHERE ( `username` = '03231' ) LIMIT 1  [ RunTime:0.001000s ]
[ 2014-06-18T23:53:13+08:00 ] SQL: SHOW COLUMNS FROM `msg` [ RunTime:0.005000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT COUNT(*) as C FROM (SELECT
		m.id,IFNULL(mr.readerid,0) isread
		FROM
		msg m LEFT JOIN msgreader mr ON m.`id`=mr.`msgid` AND mr.`readerid`=30
		WHERE INSTR(
				CONCAT(',', m.receiversid, ','),
				CONCAT(',', 30, ',')
		) > 0 AND m.code = 13108617) z WHERE z.isread =0 [ RunTime:0.330019s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SHOW COLUMNS FROM `work` [ RunTime:0.008000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT COUNT(*) AS tp_count FROM `work` WHERE code='13108617' and awoke =1 and uid =30 and UNIX_TIMESTAMP(NOW()) - UNIX_TIMESTAMP(DATE_ADD(
			    STR_TO_DATE(
			      CONCAT(
			        DATE(`date`),
			        ' ',
			        ehour,
			        ':',
			        eminute,
			        ':00'
			      ),
			      '%Y-%m-%d %H:%i:%s'
			    ),INTERVAL overday DAY)
			  ) < 0   LIMIT 1  [ RunTime:0.119007s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SHOW COLUMNS FROM `msgwork` [ RunTime:0.004001s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT COUNT(*) AS tp_count FROM `msgwork` WHERE code='13108617' and issenderread =0 and senderid =30 LIMIT 1  [ RunTime:0.001000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT COUNT(*) AS tp_count FROM `msgwork` WHERE code='13108617' and isreceiverread =0 and receiverid =30 LIMIT 1  [ RunTime:0.000000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id is NULL and pos=1 and rm.`rid`=20 [ RunTime:0.005000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=1 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=2 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=6 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=7 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.002000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=8 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=34 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=35 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003001s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=36 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.004000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=39 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=42 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=45 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=51 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003001s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=108 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=111 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.002000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=115 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.002000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=59 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id is NULL and pos=0 and rm.`rid`=20 [ RunTime:0.003001s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=15 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=16 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=19 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=24 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=27 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003001s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=31 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id is NULL and (pos=2 OR m.name='專案管理') and rm.`rid`=20 [ RunTime:0.002000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=59 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.000000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=69 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=76 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003001s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=79 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.002000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=87 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=101 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] SQL: SELECT m.id,m.`name`,m.`parent_id`,m.`link`,m.`image`,m.`target`,rm.`ext` FROM menu m INNER JOIN role_menu rm ON m.`id`=rm.`mid` WHERE m.parent_id=107 and rm.`rid`=20 order by ordernumber,id [ RunTime:0.003000s ]
[ 2014-06-18T23:53:14+08:00 ] NOTIC: [8] Undefined index: exts BaseAction.class.php 第 79 行.
[ 2014-06-18T23:53:15+08:00 ] SQL: SELECT 
			  rm.*,
			  m.`link` 
			FROM
			  `menu` m 
			  INNER JOIN `role_menu` rm 
			    ON m.`id` = rm.`mid` 
			WHERE rm.`rid` = 20 
			  AND m.`ext` IS NOT NULL  [ RunTime:0.007001s ]
[ 2014-06-18T23:53:15+08:00 ] SQL: SHOW COLUMNS FROM `msg` [ RunTime:0.008001s ]
[ 2014-06-18T23:53:15+08:00 ] SQL: SELECT 
			  m.*,IFNULL(mr.readerid,0) isread 
			FROM
			  msg m LEFT JOIN msgreader mr ON m.`id`=mr.`msgid` AND mr.`readerid`=30
			WHERE INSTR(
			    CONCAT(',', m.receiversid, ','),
			    CONCAT(',', 30, ',')
			  ) > 0 AND m.code = 13108617 ORDER by m.id desc [ RunTime:0.036002s ]
[ 2014-06-18T23:53:15+08:00 ] SQL: SELECT 
			  m.*,IFNULL(mr.readerid,0) isread 
			FROM
			  msg m LEFT JOIN msgreader mr ON m.`id`=mr.`msgid` AND mr.`readerid`=30
			WHERE INSTR(
			    CONCAT(',', m.receiversid, ','),
			    CONCAT(',', 30, ',')
			  ) > 0 AND m.code = 13108617 ORDER by m.id desc limit 0,20 [ RunTime:0.030002s ]
[ 2014-06-18T23:53:20+08:00 ] NOTIC: [8] Undefined index: key BaseAction.class.php 第 240 行.
[ 2014-06-18T23:53:20+08:00 ] NOTIC: [8] Undefined index: date BaseAction.class.php 第 240 行.
[ 2014-06-18T23:53:20+08:00 ] NOTIC: [8] Undefined index: sdate BaseAction.class.php 第 240 行.
[ 2014-06-18T23:53:20+08:00 ] NOTIC: [8] Undefined index: edate BaseAction.class.php 第 240 行.
[ 2014-06-18T23:53:21+08:00 ] SQL: SELECT COUNT(*) FROM (SELECT 
			   w.`id`,
		  w.`code`,
		  w.`date`,
		  w.`remark`,
		  w.`status`,
		  w.`uid`,
		  w.`shour`,
		  w.`sminute`,
		  w.`ehour`,
		  w.`eminute`,
		  w.`overday`,
		  w.`typename`,
		  w.`description`,
		  w.`awoke` ,u.`ucode`,d.`id` depart,IFNULL(t.`name` ,w.typename) `type`
			FROM
			  `work` w 
			  INNER JOIN `user` u 
			    ON u.`id` = w.`uid` 
			   INNER JOIN depart d ON d.`id`=u.`depart`
			   LEFT JOIN `type` t ON t.`id`=w.`type`
			WHERE w.`code` = '13108617' AND w.uid= 30  and w.status='預定工作' ORDER BY w.date desc ) Temp [ RunTime:0.037002s ]
[ 2014-06-18T23:53:21+08:00 ] SQL: SELECT 
			   w.`id`,
		  w.`code`,
		  w.`date`,
		  w.`remark`,
		  w.`status`,
		  w.`uid`,
		  w.`shour`,
		  w.`sminute`,
		  w.`ehour`,
		  w.`eminute`,
		  w.`overday`,
		  w.`typename`,
		  w.`description`,
		  w.`awoke` ,u.`ucode`,d.`id` depart,IFNULL(t.`name` ,w.typename) `type`
			FROM
			  `work` w 
			  INNER JOIN `user` u 
			    ON u.`id` = w.`uid` 
			   INNER JOIN depart d ON d.`id`=u.`depart`
			   LEFT JOIN `type` t ON t.`id`=w.`type`
			WHERE w.`code` = '13108617' AND w.uid= 30  and w.status='預定工作' ORDER BY w.date desc  limit 0,20 [ RunTime:0.024001s ]
[ 2014-06-18T23:53:21+08:00 ] NOTIC: [8] Undefined variable: sdate a2c51faf257f2ebe48aa3609eae55296.php 第 164 行.
[ 2014-06-18T23:53:21+08:00 ] NOTIC: [8] Undefined variable: edate a2c51faf257f2ebe48aa3609eae55296.php 第 164 行.
[ 2014-06-18T23:53:24+08:00 ] SQL: SELECT 
		  w.`id`,
		  w.`code`,
		  w.`date`,
		  w.`remark`,
		  w.`status`,
		  w.`uid`,
		  w.`shour`,
		  w.`sminute`,
		  w.`ehour`,
		  w.`eminute`,
		  w.`overday`,
		  w.`type`,
		  w.`typename`,
		  w.`description`,
		  w.`awoke`,
		  u.`name` uname 
		FROM
		  WORK w 
		  INNER JOIN `user` u 
		    ON w.`uid` = u.`id` 
		WHERE w.id = 3415  [ RunTime:0.001000s ]
[ 2014-06-18T23:53:24+08:00 ] SQL: UPDATE `` SET `awoke`=0 WHERE ( `id` = '3415' ) [ RunTime:0.000000s ]
[ 2014-06-18T23:53:24+08:00 ] SQL: SHOW COLUMNS FROM `work` [ RunTime:0.008000s ]
[ 2014-06-18T23:53:24+08:00 ] SQL: SELECT COUNT(*) AS tp_count FROM `work` WHERE  `code`='13108617'  and awoke =1 and uid =30 and UNIX_TIMESTAMP(NOW()) - UNIX_TIMESTAMP(DATE_ADD(
			    STR_TO_DATE(
			      CONCAT(
			        DATE(`date`),
			        ' ',
			        ehour,
			        ':',
			        eminute,
			        ':00'
			      ),
			      '%Y-%m-%d %H:%i:%s'
			    ),INTERVAL overday DAY)
			  ) < 0   LIMIT 1  [ RunTime:0.026002s ]
